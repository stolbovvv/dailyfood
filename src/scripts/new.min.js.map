{"version":3,"sources":["new.js"],"names":["Popup","constructor","element","activeClass","needLock","arguments","length","undefined","this","popupRoot","document","querySelector","popupTrigger","querySelectorAll","options","init","show","classList","add","body","style","documentElement","hide","remove","removeProperty","addEventListener","e","target","forEach","trigger","dataset","showPopup","id","hidePopup","window","breakpoints","tablet","matchMedia","slider","Swiper","pagination","el","type","clickable","matches","destroy"],"mappings":"AAAA,aAEA,MAAMA,MACJC,YAAYC,SAA8D,IAArDC,YAAEA,YAAc,YAAWC,SAAEA,UAAW,GAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACrEG,KAAKC,UAA+B,iBAAZP,QAAuBQ,SAASC,cAAcT,SAAWA,QAE7EM,KAAKC,YACPD,KAAKI,aAAeF,SAASG,iBAAkB,qBAE/CL,KAAKM,QAAU,CACbV,kBACAD,yBAGFK,KAAKO,OAET,CAEAC,OACER,KAAKC,UAAUQ,UAAUC,IAAIV,KAAKM,QAAQX,aAEtCK,KAAKM,QAAQV,WACfM,SAASS,KAAKC,MAAgB,SAAI,SAClCV,SAASS,KAAKC,MAAM,oBAAsB,SAC1CV,SAASW,gBAAgBD,MAAM,oBAAsB,SAEzD,CAEAE,OACEd,KAAKC,UAAUQ,UAAUM,OAAOf,KAAKM,QAAQX,aAEzCK,KAAKM,QAAQV,WACfM,SAASS,KAAKC,MAAMI,eAAe,YACnCd,SAASS,KAAKC,MAAMI,eAAe,oBACnCd,SAASW,gBAAgBD,MAAMI,eAAe,oBAElD,CAEAT,OACEP,KAAKC,UAAUgB,iBAAiB,SAAUC,IACpCA,EAAEC,QAAUD,EAAEC,SAAWnB,KAAKC,WAAWD,KAAKc,MAAM,IAG1Dd,KAAKI,aAAagB,SAASC,UACzBA,QAAQJ,iBAAiB,SAAS,KAC5BI,QAAQC,QAAQC,YAAcvB,KAAKC,UAAUuB,IAAIxB,KAAKQ,OACtDa,QAAQC,QAAQG,YAAczB,KAAKC,UAAUuB,IAAIxB,KAAKc,MAAM,GAChE,GAEN,EAmBFY,OAAOT,iBAAiB,oBAAoB,KAC1C,MAAMU,YAAc,CAClBC,OAAQF,OAAOG,WAAW,uBAG5B,IAAIrC,MAAM,iBAEV,MAAMsC,OAAS,IAAIC,OAAO,wBAAyB,CACjDC,WAAY,CACVC,GAAI,qBACJC,KAAM,UACNC,WAAW,KAIXR,YAAYC,OAAOQ,QACrBN,OAAOvB,OAEPuB,OAAOO,SAAQ,GAAO,GAGxBV,YAAYC,OAAOX,iBAAiB,UAAWC,IACzCA,EAAEkB,QACJN,OAAOvB,OAEPuB,OAAOO,SAAQ,GAAO,EACxB,GACA","file":"new.min.js","sourcesContent":["/* global Splide Swiper */\r\n\r\nclass Popup {\r\n  constructor(element, { activeClass = 'is-active', needLock = true } = {}) {\r\n    this.popupRoot = typeof element === 'string' ? document.querySelector(element) : element;\r\n\r\n    if (this.popupRoot) {\r\n      this.popupTrigger = document.querySelectorAll(`.js-popup-trigger`);\r\n\r\n      this.options = {\r\n        needLock,\r\n        activeClass,\r\n      };\r\n\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  show() {\r\n    this.popupRoot.classList.add(this.options.activeClass);\r\n\r\n    if (this.options.needLock) {\r\n      document.body.style['overflow'] = 'hidden';\r\n      document.body.style['scrollbar-gutter'] = 'stable';\r\n      document.documentElement.style['scrollbar-gutter'] = 'stable';\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.popupRoot.classList.remove(this.options.activeClass);\r\n\r\n    if (this.options.needLock) {\r\n      document.body.style.removeProperty('overflow');\r\n      document.body.style.removeProperty('scrollbar-gutter');\r\n      document.documentElement.style.removeProperty('scrollbar-gutter');\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.popupRoot.addEventListener('click', (e) => {\r\n      if (e.target && e.target === this.popupRoot) this.hide();\r\n    });\r\n\r\n    this.popupTrigger.forEach((trigger) => {\r\n      trigger.addEventListener('click', () => {\r\n        if (trigger.dataset.showPopup === this.popupRoot.id) this.show();\r\n        if (trigger.dataset.hidePopup === this.popupRoot.id) this.hide();\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n// const splide = new Splide('.splide', {\r\n//   destroy: true,\r\n\r\n//   breakpoints: {\r\n//     768: {\r\n//       destroy: false,\r\n//       perMove: 1,\r\n//       perPage: 1,\r\n//       arrows: false,\r\n//       drag: true,\r\n//       gap: 20,\r\n//       dragMinThreshold: 30,\r\n//     },\r\n//   },\r\n// }).mount();\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n  const breakpoints = {\r\n    tablet: window.matchMedia('(max-width: 768px)'),\r\n  };\r\n\r\n  new Popup('#ration-popup');\r\n\r\n  const slider = new Swiper('#ration-slider-swiper', {\r\n    pagination: {\r\n      el: '.swiper-pagination',\r\n      type: 'bullets',\r\n      clickable: true,\r\n    },\r\n  });\r\n\r\n  if (breakpoints.tablet.matches) {\r\n    slider.init();\r\n  } else {\r\n    slider.destroy(false, true);\r\n  }\r\n\r\n  breakpoints.tablet.addEventListener('change', (e) => {\r\n    if (e.matches) {\r\n      slider.init();\r\n    } else {\r\n      slider.destroy(false, true);\r\n    }\r\n  });\r\n});\r\n"]}