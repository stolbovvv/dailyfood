{"version":3,"sources":["new.js"],"names":["Popup","constructor","element","activeClass","needLock","onShow","onHide","arguments","length","undefined","this","popupRoot","document","querySelector","popupTrigger","querySelectorAll","options","init","show","trigger","classList","add","body","style","documentElement","hide","remove","removeProperty","addEventListener","e","target","forEach","dataset","showPopup","id","hidePopup","window","breakpoints","tablet","matchMedia","popup","popupImg","popupName","popupDescr","popupCompound","popupKcal","popupFats","popupSquirrels","popupCarbohydrates","card","closest","cardImg","cardName","cardDescr","cardKcal","cardFats","cardCompound","cardSquirrels","cardCarbohydrates","src","alt","textContent","item","slider","Swiper","pagination","el","type","clickable","matches","destroy"],"mappings":"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","file":"new.min.js","sourcesContent":["/* global Swiper */\r\n\r\nclass Popup {\r\n  constructor(element, { activeClass = 'is-active', needLock = true, onShow = () => {}, onHide = () => {} } = {}) {\r\n    this.popupRoot = typeof element === 'string' ? document.querySelector(element) : element;\r\n\r\n    if (this.popupRoot) {\r\n      this.popupTrigger = document.querySelectorAll(`.js-popup-trigger`);\r\n\r\n      this.options = {\r\n        needLock,\r\n        activeClass,\r\n        onShow,\r\n        onHide,\r\n      };\r\n\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  show(trigger) {\r\n    this.options.onShow(this.popupRoot, trigger);\r\n\r\n    this.popupRoot.classList.add(this.options.activeClass);\r\n\r\n    if (this.options.needLock) {\r\n      document.body.style['overflow'] = 'hidden';\r\n      document.body.style['scrollbar-gutter'] = 'stable';\r\n      document.documentElement.style['scrollbar-gutter'] = 'stable';\r\n    }\r\n  }\r\n\r\n  hide(trigger) {\r\n    this.options.onHide(this.popupRoot, trigger);\r\n\r\n    this.popupRoot.classList.remove(this.options.activeClass);\r\n\r\n    if (this.options.needLock) {\r\n      document.body.style.removeProperty('overflow');\r\n      document.body.style.removeProperty('scrollbar-gutter');\r\n      document.documentElement.style.removeProperty('scrollbar-gutter');\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.popupRoot.addEventListener('click', (e) => {\r\n      if (e.target && e.target === this.popupRoot) this.hide(e.target);\r\n    });\r\n\r\n    this.popupTrigger.forEach((trigger) => {\r\n      trigger.addEventListener('click', () => {\r\n        if (trigger.dataset.showPopup === this.popupRoot.id) this.show(trigger);\r\n        if (trigger.dataset.hidePopup === this.popupRoot.id) this.hide(trigger);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n  const breakpoints = {\r\n    tablet: window.matchMedia('(max-width: 768px)'),\r\n  };\r\n\r\n  new Popup('#ration-popup', {\r\n    onShow: (popup, trigger) => {\r\n      const popupImg = popup.querySelector('.ration-popup__img');\r\n      const popupName = popup.querySelector('.ration-popup__name');\r\n      const popupDescr = popup.querySelector('.ration-popup__descr');\r\n      const popupCompound = popup.querySelector('.ration-popup__compound-text');\r\n      const popupKcal = popup.querySelector('[data-ration-props=\"kcal\"]');\r\n      const popupFats = popup.querySelector('[data-ration-props=\"fats\"]');\r\n      const popupSquirrels = popup.querySelector('[data-ration-props=\"squirrels\"]');\r\n      const popupCarbohydrates = popup.querySelector('[data-ration-props=\"carbohydrates\"]');\r\n\r\n      const card = trigger.closest('.ration-card');\r\n\r\n      const cardImg = card.querySelector('.ration-card__img');\r\n      const cardName = card.querySelector('.ration-card__name');\r\n      const cardDescr = card.querySelector('.ration-card__descr');\r\n      const cardKcal = card.querySelector('[data-ration-props=\"kcal\"]');\r\n      const cardFats = card.querySelector('[data-ration-props=\"fats\"]');\r\n      const cardCompound = card.querySelector('.ration-card__compound-text');\r\n      const cardSquirrels = card.querySelector('[data-ration-props=\"squirrels\"]');\r\n      const cardCarbohydrates = card.querySelector('[data-ration-props=\"carbohydrates\"]');\r\n\r\n      popupImg.src = cardImg.src;\r\n      popupImg.alt = cardImg.alt;\r\n      popupName.textContent = cardName.textContent;\r\n      popupDescr.textContent = cardDescr.textContent;\r\n      popupKcal.textContent = cardKcal.textContent;\r\n      popupFats.textContent = cardFats.textContent;\r\n      popupCompound.textContent = cardCompound.textContent;\r\n      popupSquirrels.textContent = cardSquirrels.textContent;\r\n      popupCarbohydrates.textContent = cardCarbohydrates.textContent;\r\n    },\r\n  });\r\n\r\n  document.querySelectorAll('.swiper.ration__slider').forEach((item) => {\r\n    const slider = new Swiper(item, {\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n        type: 'bullets',\r\n        clickable: true,\r\n      },\r\n    });\r\n\r\n    if (breakpoints.tablet.matches) {\r\n      slider.init();\r\n    } else {\r\n      slider.destroy(false, true);\r\n    }\r\n\r\n    breakpoints.tablet.addEventListener('change', (e) => {\r\n      if (e.matches) {\r\n        slider.init();\r\n      } else {\r\n        slider.destroy(false, true);\r\n      }\r\n    });\r\n  });\r\n});\r\n"]}