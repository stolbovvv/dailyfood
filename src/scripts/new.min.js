"use strict";class Popup{constructor(element){let{activeClass:activeClass="is-active",needLock:needLock=!0,onShow:onShow=(()=>{}),onHide:onHide=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.popupRoot="string"==typeof element?document.querySelector(element):element,this.popupRoot&&(this.popupTrigger=document.querySelectorAll(".js-popup-trigger"),this.options={needLock:needLock,activeClass:activeClass,onShow:onShow,onHide:onHide},this.init())}show(trigger){this.options.onShow(this.popupRoot,trigger),this.popupRoot.classList.add(this.options.activeClass),this.options.needLock&&(document.body.style.overflow="hidden",document.body.style["scrollbar-gutter"]="stable",document.documentElement.style["scrollbar-gutter"]="stable")}hide(trigger){this.options.onHide(this.popupRoot,trigger),this.popupRoot.classList.remove(this.options.activeClass),this.options.needLock&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("scrollbar-gutter"),document.documentElement.style.removeProperty("scrollbar-gutter"))}init(){this.popupRoot.addEventListener("click",(e=>{e.target&&e.target===this.popupRoot&&this.hide(e.target)})),this.popupTrigger.forEach((trigger=>{trigger.addEventListener("click",(()=>{trigger.dataset.showPopup===this.popupRoot.id&&this.show(trigger),trigger.dataset.hidePopup===this.popupRoot.id&&this.hide(trigger)}))}))}}window.addEventListener("DOMContentLoaded",(()=>{const breakpoints={tablet:window.matchMedia("(max-width: 768px)")};new Popup("#ration-popup",{onShow:(popup,trigger)=>{const popupImg=popup.querySelector(".ration-popup__img"),popupName=popup.querySelector(".ration-popup__name"),popupDescr=popup.querySelector(".ration-popup__descr"),popupCompound=popup.querySelector(".ration-popup__compound-text"),popupKcal=popup.querySelector('[data-ration-props="kcal"]'),popupFats=popup.querySelector('[data-ration-props="fats"]'),popupSquirrels=popup.querySelector('[data-ration-props="squirrels"]'),popupCarbohydrates=popup.querySelector('[data-ration-props="carbohydrates"]'),card=trigger.closest(".ration-card"),cardImg=card.querySelector(".ration-card__img"),cardName=card.querySelector(".ration-card__name"),cardDescr=card.querySelector(".ration-card__descr"),cardKcal=card.querySelector('[data-ration-props="kcal"]'),cardFats=card.querySelector('[data-ration-props="fats"]'),cardCompound=card.querySelector(".ration-card__compound-text"),cardSquirrels=card.querySelector('[data-ration-props="squirrels"]'),cardCarbohydrates=card.querySelector('[data-ration-props="carbohydrates"]');popupImg.src=cardImg.src,popupImg.alt=cardImg.alt,popupName.textContent=cardName.textContent,popupDescr.textContent=cardDescr.textContent,popupKcal.textContent=cardKcal.textContent,popupFats.textContent=cardFats.textContent,popupCompound.textContent=cardCompound.textContent,popupSquirrels.textContent=cardSquirrels.textContent,popupCarbohydrates.textContent=cardCarbohydrates.textContent}});const slider=new Swiper("#ration-slider-swiper",{pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}});breakpoints.tablet.matches?slider.init():slider.destroy(!1,!0),breakpoints.tablet.addEventListener("change",(e=>{e.matches?slider.init():slider.destroy(!1,!0)}))}));
//# sourceMappingURL=new.min.js.map